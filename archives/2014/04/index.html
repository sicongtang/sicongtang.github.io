<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2014/4 | BobbyTang Tech Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="BobbyTang Tech Blog">
<meta property="og:url" content="http://sicongtang.github.io/archives/2014/04/">
<meta property="og:site_name" content="BobbyTang Tech Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BobbyTang Tech Blog">
<meta name="twitter:description">

  
    <link rel="alternative" href="/atom.xml" title="BobbyTang Tech Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">

  <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">

  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">BobbyTang Tech Blog</a>
    <div class="collapse navbar-collapse nav-menu">
      <ul class="nav navbar-nav">
      
        <li>
          <a href="/archives">
            <i class="fa fa-archive"></i>
            Archives
          </a>
        </li>
      
        <li>
          <a href="/categories">
            <i class="fa fa-folder"></i>
            Categories
          </a>
        </li>
      
        <li>
          <a href="/tags">
            <i class="fa fa-tags"></i>
            Tags
          </a>
        </li>
      
        <li>
          <a href="/wiki">
            <i class="fa fa-book"></i>
            Wiki
          </a>
        </li>
      
        <li>
          <a href="/about">
            <i class="fa fa-user"></i>
            About
          </a>
        </li>
      
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
          <li><a id="rss-link" href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>

      <div id='content' class="container">

        <div class="page-header-wrapper">
          <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
          <div class="page-header">
            <h1 class="title">
          
            
              <time datetime="2014-10-12T15:40:56.622Z" itemprop="datePublished">October 2014</time>
            
          
            </h1>
        </div>
      </div>
      
      <section id="main"
        
      >

  



  
    <article id="post-lpes42b8755hq4kr" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/29/2014-04-29-python-environment-setup/">Python Environment Setup</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-29T00:10:26.000Z" itemprop="datePublished">Apr 29 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <p>Python is a script language, the main idea for learning python is to utilize python to create easy hands-on automation script on linux env instead of shell.</p>
<p>Here, list the steps to configure PyDev, an eclipse plugin, inside eclipse environment.</p>
<ol>
<li>Access PyDev webpage: <a href="http://pydev.org/manual_101_install.html" target="_blank" rel="external">http://pydev.org/manual_101_install.html</a></li>
<li>Download PyDev certificate</li>
<li>cd %JAVA_HOME%/bin</li>
<li>Run command: keytool.exe -import -file C:/download/pydev_certificate.cer -keystore %JAVA_HOME%/jre/lib/security/cacerts</li>
<li>Input default JDK cacerts password: changeit</li>
<li>Certificate installment completed</li>
<li>Download eclipse plugin on marketplace, or mannually download it and extract into dropins directory like: (dropins/pydev/eclipse/...)</li>
<li>Edit eclipse.ini, convert -vm=... JDK must be 1.7</li>
<li>Access JPython webpage: <a href="https://wiki.python.org/jython/InstallationInstructions" target="_blank" rel="external">https://wiki.python.org/jython/InstallationInstructions</a></li>
<li>Download Jython 2.5.4rc1 - Traditional Installer at link: <a href="http://jython.org/downloads.html" target="_blank" rel="external">http://jython.org/downloads.html</a></li>
<li>Run command: java -jar jython_installer-2.5.2.jar --console</li>
<li>Configure JPython interceptor in PvDev eclipse plugin</li>
</ol>

        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/29/2014-04-29-python-environment-setup/" data-id="lpes42b8755hq4kr" data_title="Python Environment Setup"
          data_summary="Python is a script language, the main idea for learning python is to utilize python to create easy hands-on automation script on linux env instead of shell.
Her..." class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/29/2014-04-29-python-environment-setup/#disqus_thread" class="article-comment-link">Comments</a>
          
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/devenvsetup-python/">devenvsetup python</a>
  </div>


          

        </footer>
      
    </div>
  </div>
</article>


  
    <article id="post-p5ju837x767xh5pd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/27/2014-04-27-operating-system-concepts-io-system/">Operating System Concepts   Io System</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-27T09:43:57.000Z" itemprop="datePublished">Apr 27 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <h2 id="i/o-hardware">I/O Hardware</h2><p>The device communicates with the machine via a connection point, or <strong>port</strong> — for example, a serial port.</p>
<p>If devices use a common set of wires, the connection is called a bus. A <strong>bus</strong> is a set of wires and a rigidly defined protocol that specifies a set of messages that can be sent on the wires.</p>
<p>This figure shows a <strong>PCI bus</strong> (the common PC system bus) that connects the processor–memory subsystem to the fast devices and an expansion bus that connects relatively slow devices, such as the keyboard and serial and USB ports.</p>
<img src="https://farm8.staticflickr.com/7406/14029529882_f49ab52235_z.jpg" title="pcbus_structure.png">


<p>A <strong>controller</strong> is a collection of electronics that can operate a port, a bus, or a device. A serial-port controller is a simple device controller. It is a single chip (or portion of a chip) in the computer that controls the signals on the wires of a serial port.</p>
<p>By contrast, a <strong>SCSI bus controller</strong> is not simple. Because the SCSI protocol is complex, the SCSI bus controller is often implemented as a separate circuit board (or a host adapter) that plugs into the computer. It typically contains a processor, microcode, and some private memory to enable it to process the SCSI protocol messages.</p>
<h2 id="polling-&amp;-interrupts">Polling &amp; Interrupts</h2><p>In many computer architectures, three CPU-instruction cycles are sufficient to poll a device: read a device register, logical–and to extract a status bit, and branch if not zero. But <strong>polling</strong> becomes inefficient when it is attempted repeatedly yet rarely finds a device to be ready for service, while other useful CPU processing remains undone.</p>
<p>The hardware mechanism that enables a device to notify the CPU is called an <strong>interrupt</strong>.</p>
<p>The basic interrupt mechanism works as follows. The CPU hardware has a wire called the <strong>interrupt-request line</strong> that the CPU senses after executing every instruction. When the CPU detects that a controller has asserted a signal on the interrupt-request line, the CPU performs a state save and jumps to the <strong>interrupt-handler routine</strong> at a fixed address in memory.</p>
<p>Another example is found in the implementation of system calls. Usually, a program uses library calls to issue system calls. The library routines check the arguments given by the application, build a data structure to convey the arguments to the kernel, and then execute a special instruction called a <strong>software interrupt</strong>, or <strong>trap</strong>.</p>
<h2 id="direct-memory-access">Direct Memory Access</h2><p>For a device that does large transfers, such as a disk drive, it seems wasteful to use an expensive general-purpose processor to watch status bits and to feed data into a controller register one byte at a time—a process termed <strong>programmed I/O (PIO)</strong>. Many computers avoid burdening the main CPU with PIO by offloading some of this work to a special-purpose processor called a <strong>direct-memory-access (DMA) controller</strong>.</p>
<img src="https://farm8.staticflickr.com/7340/14029558121_fb7debb6a5_z.jpg" title="DMA_transfer.png">

<h2 id="blocking-and-nonblocking-i/o">Blocking and Nonblocking I/O</h2><p>An alternative to a nonblocking system call is an asynchronous system call. An asynchronous call returns immediately, without waiting for the I/O to complete.</p>
<p>The difference between nonblocking and asynchronous system calls is that a nonblocking read() returns immediately with whatever data are available—the full number of bytes requested, fewer, or none at all. An asynchronous read() call requests a transfer that will be performed in its entirety but will complete at some future time. </p>
<img src="https://farm3.staticflickr.com/2927/14032739105_b20504ca80_z.jpg" title="syn_asyn_io.png">

<h2 id="buffering">Buffering</h2><p>A <strong>buffer</strong> is a memory area that stores data being transferred between two devices or between a device and an application.</p>
<p>Buffering is done for three reasons. </p>
<ol>
<li>One reason is to cope with a speed mismatch between the producer and consumer of a data stream.</li>
<li>A second use of buffering is to provide adaptations for devices that have different data-transfer sizes.</li>
<li>A third use of buffering is to support <strong>copy semantics</strong> for application I/O.</li>
</ol>
<p>With <strong>copy semantics</strong>, the version of the data written to disk is guaranteed to be the version at the time of the application system call, independent of any subsequent changes in the application’s buffer. A simple way in which the operating system can guarantee copy semantics is for the write() system call to copy the application data into a kernel buffer before returning control to the application. The disk write is performed from the kernel buffer, so that subsequent changes to the application buffer have no effect.</p>
<h2 id="caching">Caching</h2><p>A <strong>cache</strong> is a region of fast memory that holds copies of data.</p>
<p>When the kernel receives a file I/O request, the kernel first accesses the buffer cache to see whether that region of the file is already available in main memory. If it is, a physical disk I/O can be avoided or deferred.</p>
<h2 id="transforming-i/o-requests-to-hardware-operations">Transforming I/O Requests to Hardware Operations</h2><p>The figure suggests that an I/O operation requires a great many steps that together consume a tremendous number of CPU cycles.</p>
<ol>
<li>A process issues a blocking read() system call to a file descriptor of a file that has been opened previously.</li>
<li>The system-call code in the kernel checks the parameters for correctness. In the case of input, if the data are already available in the buffer cache, the data are returned to the process, and the I/O request is completed.</li>
<li>Otherwise, a physical I/O must be performed. The process is removed from the run queue and is placed on the wait queue for the device, and the I/O request is scheduled. Eventually, the I/O subsystem sends the request to the device driver. Depending on the operating system, the request is sent via a subroutine call or an in-kernel message.</li>
<li>The device driver allocates kernel buffer space to receive the data and schedules the I/O. Eventually, the driver sends commands to the device controller by writing into the device-control registers.</li>
<li>The device controller operates the device hardware to perform the data transfer.</li>
<li>The driver may poll for status and data, or it may have set up a DMA transfer into kernel memory. We assume that the transfer is managed by a DMA controller, which generates an interrupt when the transfer completes.</li>
<li>The correct interrupt handler receives the interrupt via the interrupt- vector table, stores any necessary data, signals the device driver, and returns from the interrupt.</li>
<li>The device driver receives the signal, determines which I/O request has completed, determines the request’s status, and signals the kernel I/O subsystem that the request has been completed.</li>
<li>The kernel transfers data or return codes to the address space of the requesting process and moves the process from the wait queue back to the ready queue.</li>
<li>Moving the process to the ready queue unblocks the process. When the scheduler assigns the process to the CPU, the process resumes execution at the completion of the system call.</li>
</ol>

        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/27/2014-04-27-operating-system-concepts-io-system/" data-id="p5ju837x767xh5pd" data_title="Operating System Concepts   Io System"
          data_summary="I/O HardwareThe device communicates with the machine via a connection point, or port — for example, a serial port.
If devices use a common set of wires, the co..." class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/27/2014-04-27-operating-system-concepts-io-system/#disqus_thread" class="article-comment-link">Comments</a>
          
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/books/">books</a>
  </div>


          

        </footer>
      
    </div>
  </div>
</article>


  
    <article id="post-ygpo0t4wfguoshh5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/27/2014-04-27-operating-system-concepts-memorymapped-file/">Operating System Concepts   Memory Mapped File</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-27T09:18:34.000Z" itemprop="datePublished">Apr 27 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          
        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/27/2014-04-27-operating-system-concepts-memorymapped-file/" data-id="ygpo0t4wfguoshh5" data_title="Operating System Concepts   Memory Mapped File"
          data_summary="" class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/27/2014-04-27-operating-system-concepts-memorymapped-file/#disqus_thread" class="article-comment-link">Comments</a>
          
          

          

        </footer>
      
    </div>
  </div>
</article>


  
    <article id="post-z4v5gzu3ampzd5e5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/23/2014-04-23-todo-reading-book-list/">Todo Reading Book List</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-22T22:39:31.000Z" itemprop="datePublished">Apr 23 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <p>List the title of the books with corresponding reference url, for those which begin with <em>/*</em> are highly recommended.</p>
<h2 id="fundamental">Fundamental</h2><ol>
<li>**<a href="http://www.amazon.com/Introduction-Algorithms-Thomas-H-Cormen/dp/0262033844/ref=sr_1_1?ie=UTF8&amp;qid=1398206561" title="amazon" target="_blank" rel="external">Introduction to Algorithms</a></li>
<li>*<a href="http://www.amazon.com/Operating-System-Concepts-Abraham-Silberschatz/dp/047050949X/ref=sr_1_1?ie=UTF8&amp;qid=1398206626" title="amazon" target="_blank" rel="external">Operating System Concepts with Java</a></li>
</ol>
<h2 id="java">Java</h2><ol>
<li>**<a href="http://www.amazon.com/Thinking-Java-Edition-Bruce-Eckel/dp/0131872486/ref=sr_1_1?ie=UTF8&amp;qid=1398207134" title="amazon" target="_blank" rel="external">Thinking in Java (4th Edition)</a> prefer to starting with collections&amp;container chapter</li>
<li>*<a href="http://www.amazon.com/Java-Performance-Charlie-Hunt/dp/0137142528/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1398207290" title="amazon" target="_blank" rel="external">Java Performance</a></li>
<li><a href="http://www.amazon.com/Java-Nio-Ron-Hitchens/dp/0596002882/ref=sr_1_1?ie=UTF8&amp;qid=1398207507" title="amazon" target="_blank" rel="external">Java Nio</a></li>
<li><a href="http://www.amazon.com/Java-Message-Service-David-Chappell-ebook/dp/B0026OR3JY/ref=sr_1_1?ie=UTF8&amp;qid=1398207629" title="amazon" target="_blank" rel="external">Java Message Service</a></li>
</ol>
<h2 id="shell">Shell</h2><h2 id="database">DataBase</h2>
        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/23/2014-04-23-todo-reading-book-list/" data-id="z4v5gzu3ampzd5e5" data_title="Todo Reading Book List"
          data_summary="List the title of the books with corresponding reference url, for those which begin with /* are highly recommended.
Fundamental
**Introduction to Algorithms
*Op..." class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/23/2014-04-23-todo-reading-book-list/#disqus_thread" class="article-comment-link">Comments</a>
          
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/books/">books</a>
  </div>


          

        </footer>
      
    </div>
  </div>
</article>


  
    <article id="post-6cn5l207asdn5d4z" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/23/2014-04-23-operating-system-concepts-virtualmemory/">Operating System Concepts   Virtual Memory</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-22T21:43:26.000Z" itemprop="datePublished">Apr 23 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <h2 id="demand-paging">Demand Paging</h2><p>Loading the entire program into memory results in loading the executable code for all options, regardless of whether an option is ultimately selected by the user or not. An alternative strategy is to load pages only as they are needed. This technique is known as <strong>demand paging</strong> and is commonly used in virtual memory systems.</p>
<h2 id="page-fault">Page Fault</h2><p>A page fault causes the following sequence to occur:</p>
<p><img src="https://farm6.staticflickr.com/5325/13952117776_754a2b4bda.jpg" alt="Alt text" title="Steps_in_handling_a_page_fault.png"></p>
<ol>
<li>Trap to the operating system. </li>
<li>Save the user registers and process state. </li>
<li>Determine that the interrupt was a page fault. </li>
<li>Check that the page reference was legal and determine the location of the page on the disk. </li>
<li>Issue a read from the disk to a free frame:
a. Wait in a queue for this device until the read request is serviced.
b. Wait for the device seek and/or latency time.
c. Begin the transfer of the page to a free frame.</li>
<li>While waiting, allocate the CPU to some other user (CPU scheduling, optional). </li>
<li>Receive an interrupt from the disk I/O subsystem (I/O completed). </li>
<li>Save the registers and process state for the other user (if step 6 is executed). </li>
<li>Determine that the interrupt was from the disk. </li>
<li>Correct the page table and other tables to show that the desired page is now in memory. </li>
<li>Wait for the CPU to be allocated to this process again. </li>
<li>Restore the user registers, process state, and new page table, and then resume the interrupted instruction. </li>
</ol>
<h2 id="copy-on-write">Copy-on-Write</h2><p>Considering that many child processes invoke the exec() system call immediately after creation, the copying of the parent’s address space may be unnecessary.</p>
<p>Instead, we can use a technique known as <strong>copy-on-write</strong>, which works by allowing the parent and child processes initially to share the same pages. These shared pages are marked as copy-on-write pages, meaning that if either process writes to a shared page, a copy of the shared page is created.</p>
<h2 id="page-replacement">Page Replacement</h2><ol>
<li>Find the location of the desired page on the disk. </li>
<li>Find a free frame: 
a. If there is a free frame, use it. 
b. If there is no free frame, use a page-replacement algorithm to select a victim frame. 
c. Write the victim frame to the disk; change the page and frame tables accordingly. </li>
<li>Read the desired page into the newly freed frame; change the page and frame tables. </li>
<li>Restart the user process. </li>
</ol>
<p><strong>Page Replacement Algorithm</strong></p>
<ul>
<li>FIFO Page Replacement</li>
<li>Optimal Page Replacement</li>
<li>LRU Page Replacement</li>
<li>LRU-Approximation Page Replacement</li>
<li>Additional-Reference-Bits Algorithm</li>
<li>Second-Chance Algorithm
  a. Enhanced Second-Chance Algorithm</li>
<li>Counting-Based Page Replacement
  a. least-frequently-used (LFU) page-replacement algorithm
  b. most-frequently-used (MFU) page-replacement algorithm</li>
</ul>
<h2 id="raw-i/o">Raw I/O</h2><p>Some operating systems give special programs the ability to use a disk partition as a large sequential array of logical blocks, without any file-system data structures. This array is sometimes called the raw disk, and I/O to this array is termed <strong>raw I/O</strong>.</p>
<p><strong>Raw I/O</strong> bypasses all the file- system services, such as file I/O demand paging, file locking, prefetching, space allocation, file names, and directories.</p>
<h2 id="thrashing">Thrashing</h2><p>In fact, look at any process that does not have “enough” frames. If the process does not have the number of frames it needs to support pages in active use, it will quickly page-fault. At this point, it must replace some page. However, since all its pages are in active use, it must replace a page that will be needed again right away. Consequently, it quickly faults again, and again, and again, replacing pages that it must bring back in immediately.</p>
<p>This high paging activity is called <strong>thrashing</strong>. A process is thrashing if it is spending more time paging than executing.</p>

        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/23/2014-04-23-operating-system-concepts-virtualmemory/" data-id="6cn5l207asdn5d4z" data_title="Operating System Concepts   Virtual Memory"
          data_summary="Demand PagingLoading the entire program into memory results in loading the executable code for all options, regardless of whether an option is ultimately select..." class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/23/2014-04-23-operating-system-concepts-virtualmemory/#disqus_thread" class="article-comment-link">Comments</a>
          
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/books/">books</a>
  </div>


          

        </footer>
      
    </div>
  </div>
</article>


  
    <article id="post-7ca9ympgx8fuvi4s" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/09/2014-04-09-operating-system-concepts-mainmemory/">Operating System Concepts   Main Memory</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-08T23:39:27.000Z" itemprop="datePublished">Apr 9 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <h2 id="contiguous-memory-allocation">Contiguous Memory Allocation</h2><p>Problem:</p>
<p>Both the first-fit and best-fit strategies for memory allocation suffer from <strong>external fragmentation</strong>.</p>
<p>The general approach to avoiding this problem is to break the physical memory into fixed-sized blocks and allocate memory in units based on block size. With this approach, the memory allocated to a process may be slightly larger than the requested memory. The difference between these two numbers is <strong>internal fragmentation</strong> — unused memory that is internal to a partition.</p>
<p>Solution:</p>
<p>One solution to the problem of external fragmentation is <strong>compaction</strong>. The goal is to shuffle the memory contents so as to place all free memory together in one large block. Compaction is possible only if relocation is dynamic and is done at execution time.</p>
<p>Another possible solution to the external-fragmentation problem is to permit the logical address space of the processes to be noncontiguous, thus allowing a process to be allocated physical memory wherever such memory is available.</p>
<h2 id="page-and-segmentation">Page and Segmentation</h2><p><strong>Paging</strong> is a memory-management scheme that permits the physical address space of a process to be noncontiguous. Paging avoids external fragmentation and the need for compaction.</p>
<img src="https://farm8.staticflickr.com/7454/13951470216_7af3187c5c.jpg" title="paging_with_TLB">

<p>The <strong>translation look-aside buffer(TLB)</strong> is associative, high-speed memory. Each entry in the TLB consists of two parts: a key (or tag) and a value. When the associative memory is presented with an item, the item is compared with all keys simultaneously. If the item is found, the corresponding value field is returned.</p>
<p>If the page number is not in the TLB (known as a <strong>TLB miss</strong>), a memory reference to the page table must be made. When the frame number is obtained, we can use it to access memory (Figure 8.11). In addition, we add the page number and frame number to the TLB, so that they will be found quickly on the next reference.</p>
<p><strong>Segmentation</strong> is a memory-management scheme that supports this user view of memory.</p>
<h2 id="page-table">Page Table</h2><ul>
<li>hierarchical paging</li>
</ul>
<p>Problem&amp;Solution:</p>
<p>For example, consider a system with a 32-bit logical address space. If the page size in such a system is 4 KB (212), then a page table may consist of up to 1 million entries (232/212). Assuming that each entry consists of 4 bytes, each process may need up to 4 MB of physical address space for the page table alone. Clearly, we would not want to allocate the page table contiguously in main memory. One simple solution to this problem is to divide the page table into smaller pieces. We can accomplish this division in several ways.</p>
<pre><code>$ getconf PAGESIZE
4096
</code></pre><ul>
<li>hashed page tables</li>
</ul>
<p>Problem&amp;Solution:</p>
<p>A common approach for handling address spaces larger than 32 bits is to use a <strong>hashed page table</strong>, with the hash value being the virtual page number.</p>
<ul>
<li>inverted page tables</li>
</ul>
<p>Problem&amp;Solution:</p>
<p>Usually, each process has an associated page table. One of the drawbacks of this method is that each page table may consist of millions of entries. These tables may consume large amounts of physical memory just to keep track of how other physical memory is being used.</p>
<p>Drawbacks:</p>
<p>Although this scheme decreases the amount of memory needed to store each page table, it increases the amount of time needed to search the table when a page reference occurs. </p>
<p>Systems that use inverted page tables have difficulty implementing shared memory. Shared memory is usually implemented as multiple virtual addresses (one for each process sharing the memory) that are mapped to one physical address. This standard method cannot be used with inverted page tables; because there is only one virtual page entry for every physical page, one physical page cannot have two (or more) shared virtual addresses.</p>

        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/09/2014-04-09-operating-system-concepts-mainmemory/" data-id="7ca9ympgx8fuvi4s" data_title="Operating System Concepts   Main Memory"
          data_summary="Contiguous Memory AllocationProblem:
Both the first-fit and best-fit strategies for memory allocation suffer from external fragmentation.
The general approach t..." class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/09/2014-04-09-operating-system-concepts-mainmemory/#disqus_thread" class="article-comment-link">Comments</a>
          
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/books/">books</a>
  </div>


          

        </footer>
      
    </div>
  </div>
</article>


  
    <article id="post-wygjm3asdfbf43lu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    

    
      <header class="article-header">
        <i class="fa fa-file-text-o"></i>
        
  
    <h1 class="archive-title" itemprop="name">
      <a class="article-title" href="/2014/04/02/2014-04-02-operating-system-concepts-cpu/">Operating System Concepts   Cpu</a>
    </h1>
  


        <div class="article-date">
  <time datetime="2014-04-01T22:30:57.000Z" itemprop="datePublished">Apr 2 2014</time>
</div>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
          <h2 id="cpu-scheduling">CPU Scheduling</h2><p><strong>CPU scheduling</strong> is the task of selecting a waiting process from the ready queue and allocating the CPU to it. The CPU is allocated to the selected process by the dispatcher.</p>
<h2 id="scheduling-criteria">Scheduling Criteria</h2><ul>
<li>CPU utilization </li>
<li>Throughput</li>
<li>Turnaround time</li>
</ul>
<p>The interval from the time of submission of a process to the time of completion is the turnaround time. <strong>Turnaround time</strong> is the sum of the periods spent waiting to get into memory, waiting in the ready queue, executing on the CPU, and doing I/O.</p>
<ul>
<li>Waiting time</li>
<li>Response time</li>
</ul>
<h2 id="scheduling-alogrithm">Scheduling Alogrithm</h2><ul>
<li>First-Come, First-Served Scheduling</li>
<li>Shortest-Job-First Scheduling</li>
<li>Priority Scheduling</li>
</ul>
<p>A major problem with priority scheduling algorithms is <strong>indefinite blocking</strong>, or <strong>starvation</strong>.</p>
<p>A solution to the problem of indefinite blockage of low-priority processes is <strong>aging</strong>.</p>
<ul>
<li>Round-Robin Scheduling</li>
<li>Multilevel Queue Scheduling</li>
<li>Multilevel Feedback Queue Scheduling</li>
</ul>
<h2 id="multiple-processor/multicore-scheduling">Multiple-Processor/Multicore Scheduling</h2><ul>
<li>Processor Affinity</li>
</ul>
<p>Because of the high cost of invalidating and repopulating caches, most SMP systems try to avoid migration of processes from one processor to another and instead attempt to keep a process running on the same processor. This is known as <strong>processor affinity</strong>.</p>
<p>Some systems — such as Linux — also provide system calls that support hard affinity, thereby allowing a process to specify that it is not to migrate to other processors.</p>
<p>The main-memory architecture of a system can affect processor affinity issues. Recall the knowledge non-uniform memory access (NUMA) mentioned in previous post, in which a CPU has faster access to some parts of main memory than to other parts. </p>
<ul>
<li>Load Balancing</li>
</ul>
<p>Load balancing attempts to keep the workload evenly distributed across all processors in an SMP system. It is important to note that load balancing is typically only necessary on systems where each processor has its own private queue of eligible processes to execute.</p>
<p>There are two general approaches to load balancing: <strong>push migration</strong> and <strong>pull migration</strong>. Linux runs its load-balancing algorithm every 200 milliseconds (push migration) or whenever the run queue for a processor is empty (pull migration).</p>
<ul>
<li>Memory Stall</li>
</ul>
<p>Researchers have discovered that when a processor accesses memory, it spends a significant amount of time waiting for the data to become available. This situation, known as a <strong>memory stall</strong>, may occur for various reasons, such as a <strong>cache miss</strong> (accessing data that are not in cache memory).</p>
<ul>
<li>Virtualization</li>
</ul>
<p>The virtualization software presents one or more virtual CPUs to each of the virtual machines running on the system and then schedules the use of the physical CPUs among the virtual machines.</p>

        
        <footer class="article-footer">
          <a data-url="http://sicongtang.github.io/2014/04/02/2014-04-02-operating-system-concepts-cpu/" data-id="wygjm3asdfbf43lu" data_title="Operating System Concepts   Cpu"
          data_summary="CPU SchedulingCPU scheduling is the task of selecting a waiting process from the ready queue and allocating the CPU to it. The CPU is allocated to the selected ..." class="article-share-link">Share</a>
          
            <a href="http://sicongtang.github.io/2014/04/02/2014-04-02-operating-system-concepts-cpu/#disqus_thread" class="article-comment-link">Comments</a>
          
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/books/">books</a>
  </div>


          

        </footer>
      
    </div>
  </div>
</article>


  
  



</section>
        
          
<aside id="sidebar">
  
    
      <div class="widget-wrap">
    <div id="search-form-wrap">
      <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://sicongtang.github.io"></form>
    </div>
</div>

    
      
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li class="recent-list">
            <a href="/2014/09/05/2014-09-05-javascript-patterns-notes/">Javascript Patterns Notes</a>
          </li>
        
          <li class="recent-list">
            <a href="/2014/09/02/2014-09-02-mongodb-crud-summary/">Mongo Db Crud Summary</a>
          </li>
        
          <li class="recent-list">
            <a href="/2014/07/24/2014-07-24-a-series-of-general-questions-while-designing-webapps/">a Series of General Questions While Designing Webapps</a>
          </li>
        
          <li class="recent-list">
            <a href="/2014/07/23/2014-07-23-getting-start-with-emacs/">Getting Start With Emacs</a>
          </li>
        
          <li class="recent-list">
            <a href="/2014/07/16/2014-07-16-frontend-javascript-framework-alternatives/">Frontend Java Script Framework Alternatives</a>
          </li>
        
      </ul>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">
      <ul>
        
         <li class="blogroll">
           
             <i class="fa fa-github"></i>
           
           <a href="https://github.com/" title="Github">Github</a>
          </li>
        
         <li class="blogroll">
           
             <i class="fa fa-google-plus"></i>
           
           <a href="https://plus.google.com/" title="Google+">Google+</a>
          </li>
        
      </ul>
    </div>
  </div>


    
  
</aside>


        
      </div>
      <footer id="footer">
  
  <div class="outer container">
    <div id="footer-info" class="inner">
      <a href="/">BobbyTang Tech Blog</a> &copy; 2014 Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/seff/nut" target="_blank">Nut</a>
    </div>
  </div>
</footer>
<a id="gotop" href="#">
  <i class="fa fa-chevron-up"></i>
</a>

    </div>
    <nav id="mobile-nav">
  
    <a href="[object Object]" class="mobile-nav-link">0</a>
  
    <a href="[object Object]" class="mobile-nav-link">1</a>
  
    <a href="[object Object]" class="mobile-nav-link">2</a>
  
    <a href="[object Object]" class="mobile-nav-link">3</a>
  
    <a href="[object Object]" class="mobile-nav-link">4</a>
  
</nav>

    
<script>
  var disqus_shortname = 'bobbytang';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>

<script src="/js/jquery.fitvids.js" type="text/javascript"></script>

<script src="/js/bootstrap.min.js" type="text/javascript"></script>

<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>
